parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KIzB":[function(require,module,exports) {
"use strict";var n=document.querySelector(".start"),e=document.querySelector(".game-score"),t=document.querySelector(".message-start"),l=document.querySelector(".message-lose"),r=document.querySelector(".message-win");e.textContent=0;var o={1:null,2:null,3:null,4:null,5:null,6:null,7:null,8:null,9:null,10:null,11:null,12:null,13:null,14:null,15:null,16:null},u=!0;function c(n,e){return Math.round(n-.5+Math.random()*(e-n+1))}function a(){for(var n in o)document.querySelector(".cell_".concat(n)).textContent=o[n],document.querySelector(".cell_".concat(n)).classList="field-cell cell_".concat(n),o[n]&&document.querySelector(".cell_".concat(n)).classList.add("field-cell--".concat(o[n]));S()}function i(){if(!Object.values(o).every(function(n){return null!==n})&&!1!==u){for(var n=c(1,16);null!==o[n];)n=c(1,16);c(1,10)>1?o[n]=2:o[n]=4,u=!1}}function f(n,e){for(var t=n;t<=e;t++)if(null===o[t])for(var l=t;l<=e;l++)if(null!==o[l]){o[t]=o[l],o[l]=null,u=!0;break}}function s(n,e){for(var t=e;t>=n;t--)if(null===o[t])for(var l=t;l>=n;l--)if(null!==o[l]){o[t]=o[l],o[l]=null,u=!0;break}}function d(n,t){for(var l=n;l<t;l++)o[l]===o[l+1]&&null!==o[l]&&(o[l+1]=o[l]+o[l+1],o[l]=null,e.textContent=Number(e.textContent)+o[l+1]);f(n,t)}function v(n,t){for(var l=t;l>n;l--)o[l]===o[l-1]&&null!==o[l]&&(o[l-1]=o[l]+o[l-1],o[l]=null,e.textContent=Number(e.textContent)+o[l-1]);s(n,t)}n.addEventListener("click",function(){if("Start"===n.textContent)i(),u=!0,i(),a(),u=!1,n.textContent="Restart",t.classList.add("hidden");else{for(var r in o)o[r]=null,document.querySelector(".cell_".concat(r)).classList="field-cell cell_".concat(r);u=!0,i(),u=!0,i(),a(),e.textContent=0,l.classList.add("hidden"),u=!0}});var m=[[1,5,9,13],[2,6,10,14],[3,7,11,15],[4,8,12,16]],b=[[1,4],[5,8],[9,12],[13,16]];function h(){for(var n=0;n<=3;n++)for(var e=0;e<=3;e++)if(null===o[m[n][e]])for(var t=e;t<=3;t++)if(null!==o[m[n][t]]){o[m[n][e]]=o[m[n][t]],o[m[n][t]]=null,u=!0;break}}function k(){for(var n=0;n<=3;n++)for(var t=0;t<=3;t++)o[m[n][t]]===o[m[n][t+1]]&&o[m[n][t]]&&(o[m[n][t+1]]=o[m[n][t]]+o[m[n][t+1]],o[m[n][t]]=null,e.textContent=Number(e.textContent)+o[m[n][t+1]]);h()}function L(){for(var n=0;n<=3;n++)for(var e=3;e>=0;e--)if(null===o[m[n][e]])for(var t=e;t>=0;t--)if(null!==o[m[n][t]]){o[m[n][e]]=o[m[n][t]],o[m[n][t]]=null,u=!0;break}}function x(){for(var n=0;n<=3;n++)for(var t=3;t>=0;t--)o[m[n][t]]===o[m[n][t-1]&&o[m[n][t]]]&&(o[m[n][t-1]]=o[m[n][t]]+o[m[n][t-1]],o[m[n][t]]=null,e.textContent=Number(e.textContent)+o[m[n][t-1]]);L()}function y(n,e){for(var t=n;t<e;t++)if(o[t]===o[t+1])return!0;return!1}function C(){for(var n=0;n<=3;n++)for(var e=3;e>=0;e--)if(o[m[n][e]]===o[m[n][e-1]])return!0;return!1}function S(){if(Object.values(o).some(function(n){return"2048"===n})&&r.classList.remove("hidden"),Object.values(o).every(function(n){return null!==n})){for(var n=0;n<b.length;n++)if(y(b[n][0],b[n][1]))return;!1===C()&&l.classList.remove("hidden")}}document.addEventListener("keydown",function(n){switch(n.key){case"ArrowUp":if(!t.classList.contains("hidden"))break;h(),k(),i(),a();break;case"ArrowDown":if(!t.classList.contains("hidden"))break;L(),x(),i(),a();break;case"ArrowLeft":if(!t.classList.contains("hidden"))break;for(var e=0;e<b.length;e++)f(b[e][0],b[e][1]),d(b[e][0],b[e][1]);i(),a();break;case"ArrowRight":if(!t.classList.contains("hidden"))break;for(var l=0;l<b.length;l++)s(b[l][0],b[l][1]),v(b[l][0],b[l][1]);i(),a()}});
},{}]},{},["KIzB"], null)
//# sourceMappingURL=main.680a6c03.js.map